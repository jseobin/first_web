{% extends 'admin/layout.html' %}
{% block content %}
<section class="panel narrow">
    <h2>관리자 로그인</h2>
    {% if admin_user %}
        <div class="card">
            <p>현재 로그인: <strong>{{ admin_user.full_name }}</strong> ({{ admin_user.username }})</p>
            <p>권한: {{ admin_user.role }}</p>
            <a class="btn" href="{{ url_for('admin_profile') }}">개인정보 수정</a>
            <form method="post" action="{{ url_for('admin_logout') }}">
                <button class="btn ghost" type="submit">로그아웃</button>
            </form>
        </div>
    {% else %}
        <form method="post" class="form-grid">
            <label>아이디
                <input name="username" required>
            </label>
            <label>비밀번호
                <input type="password" name="password" required>
            </label>
            <button class="btn" type="submit">로그인</button>
        </form>
        <p class="muted">대표 관리자 데모: <code>masteradmin / Master123!</code></p>
    {% endif %}
</section>

<section class="panel narrow">
    <h3>관리자 계정 생성</h3>
    <p>계정 생성 후 대표 관리자 승인을 받아야 메뉴를 사용할 수 있습니다.</p>
    <form method="post" action="{{ url_for('admin_register') }}" class="form-grid">
        <label>아이디
            <input name="username" required>
        </label>
        <label>비밀번호
            <input type="password" name="password" required>
        </label>
        <label>이름
            <input name="full_name" required>
        </label>
        <label>이메일
            <input name="email">
        </label>
        <label>전화번호
            <input name="phone">
        </label>
        <button class="btn" type="submit">관리자 계정 생성</button>
    </form>
</section>
{% endblock %}
